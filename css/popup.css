/* ===== DESIGN TOKENS ===== */
:root {
  --font-sans: 'Figtree', system-ui, -apple-system, sans-serif;
  --text-xs:  10px;
  --text-sm:  14px;
  --text-base: 15px;
  --text-lg:  18px;
  --text-xl:  20px;
  --text-2xl: 22px;
  --text-3xl: 24px;
  --text-4xl: 26px;
  --font-semibold:  600;
  --font-bold:      700;
  --font-extrabold: 800;
  --font-black:     900;
  --leading-none:   1;
  --leading-tight:  1.1;
  --leading-snug:   1.2;
  --leading-normal: 1.3;
  --spacing-0:   0px;
  --spacing-0-5: 2px;
  --spacing-1:   4px;
  --spacing-1-5: 6px;
  --spacing-2:   8px;
  --spacing-2-5: 10px;
  --spacing-3:   12px;
  --spacing-3-5: 14px;
  --spacing-4:   16px;
  --spacing-5:   20px;
  --spacing-6:   24px;
  --spacing-7:   28px;
  --spacing-8:   32px;
  --spacing-10:  40px;
  --spacing-11:  44px;
  --rounded-lg:   8px;
  --rounded-xl:   10px;
  --rounded-2xl:  12px;
  --rounded-3xl:  16px;
  --rounded-full: 9999px;
  --size-6:  24px;
  --size-7:  28px;
  --size-8:  32px;
  --size-10: 40px;
  --color-white:   #fff;
  --color-black:   #000;
  --color-red-500: #e61c1c;
  --color-red-600: #d00000;
  --color-red-650: #c60809;
  --color-red-700: #bc1011;
  --color-red-800: #a82123;
  --color-red-850: #7d1012;
  --color-red-900: #68080a;
  --color-red-950: #530001;
  --color-red-975: #380201;
  --color-red-990: #1e0400;
  --color-dark-900: #1a1a2e;
  --color-green-400: #2aed1a;
  --color-green-500: #0cf814;
  --color-green-600: #06cc0d;
  --color-green-700: #069c0b;
  --color-green-800: #1db954;
  --color-green-accent: #0fffb2;
  --color-green-accent-alt: #2dfcb2;
  --color-overlay:       rgba(0, 0, 0, 0.65);
  --color-close-bg:      rgba(0, 0, 0, 0.45);
  --color-close-bg-hover: rgba(0, 0, 0, 0.6);
  --color-white-20:      rgba(255, 255, 255, 0.2);
  --color-white-25:      rgba(255, 255, 255, 0.25);
  --color-white-50:      rgba(255, 255, 255, 0.5);
  --color-black-30:      rgba(0, 0, 0, 0.3);
  --gradient-cta: linear-gradient(to left, var(--color-green-500), var(--color-green-600));
  --gradient-red-card: radial-gradient(
    ellipse at top right,
    var(--color-red-600)  0%,
    var(--color-red-650)  12.5%,
    var(--color-red-700)  25%,
    var(--color-red-800)  50%,
    var(--color-red-850)  62.5%,
    var(--color-red-900)  68.75%,
    var(--color-red-950)  75%,
    var(--color-red-975)  87.5%,
    var(--color-red-990)  100%
  );
  --color-gold-400: #ffe14d;
  --shadow-cta-inset: inset 0px -3px 0px 0px var(--color-green-700);
  --popup-w:    296px;
  --popup-w-lg: 320px;
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ===== OVERLAY ===== */
.popup-overlay {
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: var(--color-overlay);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}
.popup-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* ===== CONTAINER ===== */
.popup-container {
  position: relative;
  width: var(--popup-w);
  border-radius: var(--rounded-3xl);
  overflow: hidden;
  transform: scale(0.9) translateY(20px);
  opacity: 0;
  transition: transform 0.35s var(--ease-bounce), opacity 0.3s ease;
  font-family: var(--font-sans);
  will-change: transform, opacity;
}
.popup-overlay.active .popup-container {
  transform: scale(1) translateY(0);
  opacity: 1;
}

/* ===== CLOSE BUTTON ===== */
.popup-close {
  position: absolute;
  top: var(--spacing-2-5);
  right: var(--spacing-2-5);
  width: var(--size-8);
  height: var(--size-8);
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
}
.popup-close:hover { transform: scale(1.15); }
.popup-close svg {
  width: var(--spacing-5);
  height: var(--spacing-5);
}

/* ===== BASE HERO ===== */
.popup-hero { width: 100%; display: block; }
.popup-hero img { width: 100%; height: auto; display: block; }

/* ===== BASE CONTENT ===== */
.popup-content {
  padding: 0 var(--spacing-5) var(--spacing-5);
  text-align: center;
}

/* ===== TITLE ===== */
.popup-title {
  font-size: var(--text-xl);
  font-weight: var(--font-extrabold);
  color: var(--color-white);
  margin: var(--spacing-3-5) 0 var(--spacing-2);
  line-height: var(--leading-snug);
}

/* ===== SUBTITLE ===== */
.popup-subtitle {
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--color-white);
  margin-bottom: var(--spacing-2-5);
  line-height: var(--leading-normal);
}

/* ===== CURRENCY ROWS ===== */
.popup-currencies {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: var(--spacing-1-5) 0 var(--spacing-3);
}
.popup-currencies .popup-currency-row + .popup-currency-row {
  margin-top: var(--spacing-1);
}
.popup-currency-row {
  display: flex;
  align-items: center;
  justify-content: center;
}
.popup-currency-row > * + * {
  margin-left: var(--spacing-1-5);
}
.popup-currency-icon {
  width: var(--spacing-7);
  height: var(--spacing-7);
  object-fit: contain;
}
.popup-currency-value {
  font-size: var(--text-3xl);
  font-weight: var(--font-extrabold);
  color: var(--color-white);
}
.popup-currency-label {
  font-size: 11px;
  font-weight: var(--font-bold);
  color: var(--color-green-accent-alt);
  line-height: var(--leading-tight);
}

/* ===== DIVIDER ===== */
.popup-divider {
  border: none;
  border-top: 2px dashed var(--color-white-25);
  margin: var(--spacing-3) 0;
}

/* ===== CTA BUTTON ===== */
.popup-cta {
  display: block;
  width: 100%;
  padding: var(--spacing-4);
  border: none;
  border-radius: var(--rounded-xl);
  background: var(--color-green-400);
  color: var(--color-dark-900);
  font-family: var(--font-sans);
  font-size: var(--text-lg);
  font-weight: var(--font-extrabold);
  cursor: pointer;
  transition: transform 0.15s ease, filter 0.15s ease;
  letter-spacing: 0.3px;
}
.popup-cta:hover { transform: scale(1.03); filter: brightness(1.08); }
.popup-cta:active { transform: scale(0.98); }

/* ===== HERO FLOAT ANIMATION ===== */
@keyframes heroFloat {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-6px); }
}
.popup-hero--animated img {
  animation: heroFloat 3s ease-in-out infinite;
  will-change: transform;
}

/* ===== TITLE IMAGE ===== */
.popup-title-image {
  width: 80%;
  max-width: 220px;
  margin: 0 auto var(--spacing-2);
  display: block;
}

/* ==========================================================================
   FREE COINS V1
   ========================================================================== */
.popup-container.popup-free-coins {
  width: var(--popup-w-lg);
  background: var(--gradient-red-card);
  padding: var(--spacing-4);
  padding-top: 160px;
  overflow: visible;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
}
.popup-free-coins > * + * { margin-top: var(--spacing-2); }
.popup-free-coins .popup-hero {
  position: absolute;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  width: 247px;
  height: 300px;
  z-index: 2;
  margin: 0;
  pointer-events: none;
}
.popup-free-coins .popup-hero img {
  width: 100%; height: 100%;
  object-fit: contain;
  display: block;
  pointer-events: auto;
}
.popup-free-coins .popup-close {
  top: var(--spacing-3);
  left: auto;
  right: var(--spacing-3);
  width: var(--size-7);
  height: var(--size-7);
  background: var(--color-close-bg);
  border-radius: var(--rounded-full);
  opacity: 1;
  z-index: 20;
}
.popup-free-coins .popup-close:hover {
  background: var(--color-close-bg-hover);
}
.popup-free-coins .popup-close svg {
  width: var(--spacing-3-5);
  height: var(--spacing-3-5);
  stroke: var(--color-white);
}
.popup-free-coins .popup-title-image {
  width: 182px; height: 59px; max-width: none;
  margin: 0 auto 0;
  object-fit: contain;
  position: relative;
  z-index: 3;
}
.popup-free-coins .popup-title {
  font-size: var(--text-lg);
  font-weight: var(--font-black);
  color: var(--color-white);
  text-align: center;
  text-shadow: 0 2px 8px var(--color-black-30);
  position: relative; z-index: 3;
}
.popup-free-coins .popup-content {
  padding: 0; text-align: center; width: 100%;
  display: flex; flex-direction: column; align-items: center;
  gap: 12px;
  position: relative; z-index: 3;
}
.popup-free-coins .popup-subtitle {
  font-size: var(--text-lg);
  font-weight: var(--font-black);
  color: var(--color-white);
  line-height: var(--leading-none);
  margin-bottom: 0;
}
.popup-free-coins .popup-currencies { margin: 0; }
.popup-free-coins .popup-currency-row > * + * { margin-left: var(--spacing-1); }
.popup-free-coins .popup-currency-icon { width: var(--size-6); height: var(--size-6); }
.popup-free-coins .popup-currency-value {
  color: var(--color-green-accent);
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  line-height: var(--leading-none);
}
.popup-free-coins .popup-currency-label {
  color: var(--color-green-accent);
  font-size: var(--text-xs);
  line-height: var(--leading-none);
}
.popup-free-coins .popup-divider {
  border-top-color: var(--color-white-20);
  width: 100%;
  margin: var(--spacing-1) 0;
}
.popup-free-coins .popup-cta {
  background: var(--gradient-cta);
  color: var(--color-black);
  font-size: var(--text-sm);
  font-weight: var(--font-bold);
  height: var(--size-10);
  padding: var(--spacing-2) var(--spacing-5) var(--spacing-2-5);
  border-radius: var(--rounded-lg);
  letter-spacing: -0.14px;
  line-height: var(--spacing-5);
  box-shadow: var(--shadow-cta-inset);
}

/* ==========================================================================
   FREE COINS V2
   ========================================================================== */
.popup-free-coins-v2 {
  width: var(--popup-w);
  height: 360px;
  background: var(--gradient-red-card);
  padding: var(--spacing-3);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.popup-free-coins-v2 .popup-close {
  top: var(--spacing-2); right: var(--spacing-2); left: auto;
  width: var(--size-8); height: var(--size-8);
  background: transparent; opacity: 0.7; z-index: 20;
}
.popup-free-coins-v2 .popup-close:hover { opacity: 1; }
.popup-free-coins-v2 .popup-close svg {
  width: var(--spacing-5); height: var(--spacing-5);
  color: var(--color-white-50); stroke-width: 3;
}
.popup-free-coins-v2 .popup-title {
  display: flex; width: 100%; height: var(--size-10);
  flex-direction: column; justify-content: center;
  color: var(--color-white); text-align: center;
  font-family: var(--font-sans);
  font-size: var(--text-xl); font-weight: var(--font-black);
  line-height: var(--leading-none);
  margin: 0; padding: 0; flex-shrink: 0;
  position: relative; z-index: 3; vertical-align: middle;
}
.popup-free-coins-v2 .popup-hero {
  position: relative; width: 100%; height: 164px;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; padding: var(--spacing-2) 0;
}
.popup-free-coins-v2 .popup-hero-main {
  width: 174px; height: 144px; object-fit: contain;
  position: relative; top: 5px; z-index: 2; display: block;
}
.popup-free-coins-v2 .popup-scatter {
  position: absolute; object-fit: contain; z-index: 1;
  will-change: transform, opacity;
}
.popup-free-coins-v2 .scatter-tl {
  width: 35px; height: 21px; top: 48px; left: 13px;
  transform: rotate(24.9deg);
}
.popup-free-coins-v2 .scatter-mr {
  width: 33px; height: 32px; top: 62px; right: var(--spacing-4);
  transform: rotate(18.87deg);
}
.popup-free-coins-v2 .scatter-tr {
  width: 38px; height: 19px; top: var(--spacing-4); right: var(--spacing-10);
  transform: rotate(-42.45deg);
}
.popup-free-coins-v2 .popup-content {
  padding: 0; text-align: center; width: 100%;
  display: flex; flex-direction: column; align-items: center;
  flex: 1 0 0; min-height: 1px; justify-content: flex-end;
}
.popup-free-coins-v2 .popup-content > * + * { margin-top: var(--spacing-2); }
.popup-free-coins-v2 .popup-subtitle {
  display: flex; width: 264px; flex: 1 0 0; min-height: 1px;
  flex-direction: column; justify-content: center;
  color: var(--color-white); text-align: center;
  font-family: var(--font-sans);
  font-size: var(--text-lg); font-weight: var(--font-black);
  line-height: var(--leading-none); margin: 0; padding: 0;
}
.popup-free-coins-v2 .popup-cta {
  background: var(--gradient-cta);
  color: var(--color-black);
  font-size: var(--text-sm); font-weight: var(--font-bold);
  height: var(--size-10); padding: 0 var(--spacing-5);
  border-radius: var(--rounded-lg);
  letter-spacing: -0.14px; line-height: var(--size-10);
  box-shadow: var(--shadow-cta-inset);
  display: flex; align-items: center; justify-content: center;
  width: 100%; flex-shrink: 0;
  position: relative; overflow: visible;
}
.popup-free-coins-v2 .popup-cta > * + * { margin-left: var(--spacing-2); }
.popup-free-coins-v2 .popup-cta-icon {
  width: var(--size-6); height: var(--size-6);
  object-fit: contain; border-radius: var(--rounded-full);
}

/* V2 Animations */
@keyframes giftFloat {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-8px); }
}
.popup-free-coins-v2 .popup-hero--animated .popup-hero-main {
  animation: giftFloat 3s ease-in-out infinite;
}
@keyframes scatterFloat1 {
  0%, 100% { transform: rotate(24.9deg) translate(0, 0); opacity: 1; }
  25%      { transform: rotate(30deg) translate(-3px, -6px); opacity: 0.9; }
  50%      { transform: rotate(20deg) translate(2px, -10px); opacity: 1; }
  75%      { transform: rotate(28deg) translate(-1px, -4px); opacity: 0.9; }
}
@keyframes scatterFloat2 {
  0%, 100% { transform: rotate(18.87deg) translate(0, 0); opacity: 1; }
  33%      { transform: rotate(14deg) translate(4px, -7px); opacity: 0.9; }
  66%      { transform: rotate(22deg) translate(-2px, -5px); opacity: 1; }
}
@keyframes scatterFloat3 {
  0%, 100% { transform: rotate(-42.45deg) translate(0, 0); opacity: 1; }
  40%      { transform: rotate(-36deg) translate(-5px, -8px); opacity: 0.9; }
  80%      { transform: rotate(-48deg) translate(3px, -3px); opacity: 1; }
}
.popup-free-coins-v2 .popup-hero--animated .scatter-tl {
  animation: scatterFloat1 4s ease-in-out infinite;
}
.popup-free-coins-v2 .popup-hero--animated .scatter-mr {
  animation: scatterFloat2 3.5s ease-in-out infinite 0.5s;
}
.popup-free-coins-v2 .popup-hero--animated .scatter-tr {
  animation: scatterFloat3 4.5s ease-in-out infinite 1s;
}

/* V2 Coin fountain */
.popup-claim-coin {
  position: absolute;
  width: var(--size-6); height: var(--size-6);
  border-radius: var(--rounded-full);
  object-fit: contain;
  pointer-events: none;
  z-index: 30;
  bottom: 100%; left: 50%;
  opacity: 0;
  will-change: transform, opacity;
}
@keyframes coinFountain {
  0%   { opacity: 1; transform: translate(-50%, 0) scale(0.5); }
  20%  { opacity: 1; transform: translate(var(--coin-x), -30px) scale(1); }
  100% { opacity: 0; transform: translate(var(--coin-x), -90px) scale(0.6); }
}
.popup-cta.is-claimed .popup-claim-coin {
  animation: coinFountain 0.8s ease-out forwards;
}
.popup-free-coins-v2 .popup-cta.is-claimed {
  pointer-events: none;
  opacity: 0.85;
}

/* ==========================================================================
   SPECIAL OFFER
   ========================================================================== */
.popup-special-offer {
  width: var(--popup-w);
  background: transparent;
  padding: var(--spacing-3);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}
.popup-special-offer .popup-bg-svg {
  position: absolute;
  left: 0;
  top: 97px;
  width: 100%;
  height: calc(100% - 97px);
  z-index: 1;
  pointer-events: none;
}
.popup-special-offer .popup-bg-svg img {
  width: 100%;
  height: 100%;
  display: block;
}
.popup-special-offer .popup-close {
  top: var(--spacing-2); right: var(--spacing-2); left: auto;
  width: var(--size-6); height: var(--size-6);
  background: transparent; opacity: 0.5; z-index: 20;
}
.popup-special-offer .popup-close:hover { opacity: 1; }
.popup-special-offer .popup-close svg {
  width: var(--spacing-3); height: var(--spacing-3);
  color: var(--color-white-50); stroke-width: 3;
}
.popup-special-offer .popup-title {
  display: flex; width: 100%; height: var(--size-10);
  flex-direction: column; justify-content: center;
  color: var(--color-white); text-align: center;
  font-family: var(--font-sans);
  font-size: var(--text-xl); font-weight: var(--font-black);
  line-height: var(--leading-none);
  margin: 0; padding: 0; flex-shrink: 0;
  position: relative; z-index: 3;
}
.popup-special-offer .popup-hero {
  position: relative; width: 100%; height: 204px;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.popup-special-offer .popup-hero-main {
  width: auto; height: 204px; object-fit: contain;
  position: relative; z-index: 2; display: block;
}
.popup-special-offer .popup-scatter {
  position: absolute; object-fit: contain; z-index: 1;
  will-change: transform, opacity;
}
.popup-special-offer .scatter-tl {
  width: 35px; height: 21px; top: 30px; left: 28px;
  transform: rotate(24.9deg);
}
.popup-special-offer .scatter-mr {
  width: 28px; height: 27px; top: 64px; right: 24px;
  transform: rotate(41.56deg);
}
.popup-special-offer .scatter-br {
  width: 38px; height: 19px; bottom: 0; right: 52px;
  transform: rotate(-42.45deg);
}
.popup-special-offer .popup-content {
  padding: var(--spacing-2) 0 0;
  text-align: center; width: 100%;
  display: flex; flex-direction: column; align-items: center;
  gap: var(--spacing-2);
  position: relative; z-index: 3;
}
.popup-special-offer .popup-subtitle {
  color: var(--color-white); text-align: center;
  font-family: var(--font-sans);
  font-size: var(--text-lg); font-weight: var(--font-black);
  line-height: var(--leading-none); margin: 0; padding: 0;
}
.popup-special-offer .popup-amounts {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-2);
}
.popup-special-offer .popup-amount {
  display: flex;
  align-items: center;
  gap: var(--spacing-1);
}
.popup-special-offer .popup-amount-icon {
  width: var(--size-6); height: var(--size-6);
  object-fit: contain; border-radius: var(--rounded-full);
}
.popup-special-offer .popup-amount-value {
  font-size: var(--text-lg);
  font-weight: var(--font-extrabold);
  line-height: var(--leading-none);
}
.popup-special-offer .popup-amount-value--gc {
  color: var(--color-gold-400);
}
.popup-special-offer .popup-amount-value--sc {
  color: var(--color-green-accent);
}
.popup-special-offer .popup-amount-separator {
  font-size: var(--text-lg);
  font-weight: var(--font-extrabold);
  color: var(--color-white);
  line-height: var(--leading-none);
}
.popup-special-offer .popup-amount-label {
  font-size: var(--text-xs);
  font-weight: var(--font-bold);
  color: var(--color-green-accent);
  line-height: var(--leading-tight);
  white-space: pre-line;
}
.popup-special-offer .popup-cta {
  background: var(--gradient-cta);
  color: var(--color-black);
  font-size: var(--text-sm); font-weight: var(--font-bold);
  height: var(--size-10); padding: 0 var(--spacing-5);
  border-radius: var(--rounded-lg);
  letter-spacing: -0.14px; line-height: var(--size-10);
  box-shadow: var(--shadow-cta-inset);
  display: flex; align-items: center; justify-content: center;
  width: 100%; flex-shrink: 0;
  position: relative; z-index: 3;
}
.popup-special-offer .popup-hero--animated .popup-hero-main {
  animation: giftFloat 3s ease-in-out infinite;
}
.popup-special-offer .popup-hero--animated .scatter-tl {
  animation: scatterFloat1 4s ease-in-out infinite;
}
.popup-special-offer .popup-hero--animated .scatter-mr {
  animation: scatterFloat2 3.5s ease-in-out infinite 0.5s;
}
.popup-special-offer .popup-hero--animated .scatter-br {
  animation: scatterFloat3 4.5s ease-in-out infinite 1s;
}
